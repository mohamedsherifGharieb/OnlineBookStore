<section id="how-it-works" class="py-20" style="background-color: #5c3d2e;">
  <div class="container mx-auto px-8">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-serif font-bold text-white mb-4">
        How It Works
      </h2>
      <p class="text-lg text-white/80 max-w-2xl mx-auto">
        Getting started is easy â€” find, buy, and enjoy your books in four simple steps
      </p>
    </div>

    <!-- Steps -->
    <div class="grid md:grid-cols-4 gap-8 relative">

      <div class="hidden md:block absolute top-12 left-[12%] right-[12%] h-0.5 bg-amber-100/30"></div>

      @for (step of steps; track step.number; let i = $index) {
        <div
          class="relative flex flex-col items-center text-center animate-fade-in"
          [style.animationDelay]="(i * 0.1) + 's'">
          
          <!-- Icon Circle -->
          <div class="relative z-10 w-24 h-24 rounded-full bg-amber-50 flex items-center justify-center mb-6 shadow-lg">
            <!-- Search Icon -->
            @if (step.icon === 'search') {
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-[#5c3d2e]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.3-4.3"/>
              </svg>
            }
            <!-- Cart Icon -->
            @if (step.icon === 'cart') {
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-[#5c3d2e]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="8" cy="21" r="1"/>
                <circle cx="19" cy="21" r="1"/>
                <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/>
              </svg>
            }
            <!-- Lock Icon -->
            @if (step.icon === 'lock') {
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-[#5c3d2e]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
              </svg>
            }
            <!-- Book Icon -->
            @if (step.icon === 'book') {
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-[#5c3d2e]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
              </svg>
            }
            
            <!-- Number Badge -->
            <span class="absolute -top-1 -right-1 w-8 h-8 rounded-full bg-library-orange-light text-white text-sm font-bold flex items-center justify-center shadow-md">
              {{ step.number }}
            </span>
          </div>

          <!-- Title -->
          <h3 class="text-lg font-serif font-semibold text-white mb-2">
            {{ step.title }}
          </h3>

          <!-- Description -->
          <p class="text-sm text-white/70 max-w-50">
            {{ step.description }}
          </p>

          <!-- Mobile Arrow -->
          @if (i < steps.length - 1) {
            <div class="md:hidden w-0.5 h-8 bg-amber-100/30 mt-6"></div>
          }
        </div>
      }
    </div>
  </div>
</section>
